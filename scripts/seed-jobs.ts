import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
    console.log('ðŸŒ± Seeding job posts...');

    // à¸•à¸£à¸§à¸ˆà¸ªà¸­à¸šà¸§à¹ˆà¸²à¸¡à¸µ shop à¹à¸¥à¸° category à¸­à¸¢à¸¹à¹ˆà¸«à¸£à¸·à¸­à¹„à¸¡à¹ˆ
    const shop = await prisma.shop.findFirst();
    const category = await prisma.category.findFirst();

    if (!shop) {
        console.error('âŒ à¹„à¸¡à¹ˆà¸žà¸šà¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¹ƒà¸™à¸£à¸°à¸šà¸š à¸à¸£à¸¸à¸“à¸²à¸ªà¸£à¹‰à¸²à¸‡à¸£à¹‰à¸²à¸™à¸„à¹‰à¸²à¸à¹ˆà¸­à¸™');
        return;
    }

    if (!category) {
        console.error('âŒ à¹„à¸¡à¹ˆà¸žà¸šà¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¹ƒà¸™à¸£à¸°à¸šà¸š à¸à¸£à¸¸à¸“à¸²à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸¡à¸§à¸”à¸«à¸¡à¸¹à¹ˆà¸à¹ˆà¸­à¸™');
        return;
    }

    // à¸ªà¸£à¹‰à¸²à¸‡ job posts à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡
    const jobs = [
        {
            jobName: 'à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¹€à¸ªà¸´à¸£à¹Œà¸Ÿà¸£à¹‰à¸²à¸™à¸­à¸²à¸«à¸²à¸£',
            description: 'à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¹€à¸ªà¸´à¸£à¹Œà¸Ÿà¸—à¸µà¹ˆà¸¡à¸µà¸›à¸£à¸°à¸ªà¸šà¸à¸²à¸£à¸“à¹Œ à¸¡à¸µà¸„à¸§à¸²à¸¡à¸à¸£à¸°à¸•à¸·à¸­à¸£à¸·à¸­à¸£à¹‰à¸™ à¸£à¸±à¸šà¸œà¸´à¸”à¸Šà¸­à¸š\n\nà¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ:\n- à¸£à¸±à¸šà¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸¥à¸¹à¸à¸„à¹‰à¸²\n- à¹€à¸ªà¸´à¸£à¹Œà¸Ÿà¸­à¸²à¸«à¸²à¸£\n- à¸”à¸¹à¹à¸¥à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¹‚à¸•à¹Šà¸°\n\nà¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´:\n- à¸­à¸²à¸¢à¸¸ 18 à¸›à¸µà¸‚à¸¶à¹‰à¸™à¹„à¸›\n- à¸¡à¸µà¹ƒà¸ˆà¸£à¸±à¸à¸‡à¸²à¸™à¸šà¸£à¸´à¸à¸²à¸£\n- à¸ªà¸²à¸¡à¸²à¸£à¸–à¸—à¸³à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸à¸°à¹„à¸”à¹‰',
            wage: 350,
            workDate: new Date('2025-01-15'),
            requiredPeople: 3,
            availableDays: 'à¸ˆà¸±à¸™à¸—à¸£à¹Œ-à¸­à¸²à¸—à¸´à¸•à¸¢à¹Œ',
            contactPhone: '081-234-5678',
            address: '123 à¸–à¸™à¸™à¸ªà¸¸à¸‚à¸¸à¸¡à¸§à¸´à¸— à¹à¸‚à¸§à¸‡à¸„à¸¥à¸­à¸‡à¹€à¸•à¸¢ à¸à¸£à¸¸à¸‡à¹€à¸—à¸žà¸¯ 10110',
            latitude: 13.7563,
            longitude: 100.5018,
            status: 'open',
            shopId: shop.id,
            categoryId: category.id,
        },
        {
            jobName: 'à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸•à¹‰à¸­à¸™à¸£à¸±à¸š',
            description: 'à¸£à¸±à¸šà¸ªà¸¡à¸±à¸„à¸£à¸žà¸™à¸±à¸à¸‡à¸²à¸™à¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²\n\nà¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ:\n- à¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸¥à¸¹à¸à¸„à¹‰à¸²\n- à¹à¸™à¸°à¸™à¸³à¸ªà¸´à¸™à¸„à¹‰à¸²à¹à¸¥à¸°à¸šà¸£à¸´à¸à¸²à¸£\n- à¸£à¸±à¸šà¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œ\n\nà¸„à¸¸à¸“à¸ªà¸¡à¸šà¸±à¸•à¸´:\n- à¸šà¸¸à¸„à¸¥à¸´à¸à¸”à¸µ à¸žà¸¹à¸”à¸ˆà¸²à¹„à¸žà¹€à¸£à¸²à¸°\n- à¸¡à¸µà¸¡à¸™à¸¸à¸©à¸¢à¸ªà¸±à¸¡à¸žà¸±à¸™à¸˜à¹Œà¸”à¸µ',
            wage: 400,
            workDate: new Date('2025-01-20'),
            requiredPeople: 2,
            availableDays: 'à¸ˆà¸±à¸™à¸—à¸£à¹Œ-à¸¨à¸¸à¸à¸£à¹Œ',
            contactPhone: '082-345-6789',
            address: '456 à¸–à¸™à¸™à¸žà¸«à¸¥à¹‚à¸¢à¸˜à¸´à¸™ à¹à¸‚à¸§à¸‡à¸ªà¸²à¸¡à¹€à¸ªà¸™à¹ƒà¸™ à¸à¸£à¸¸à¸‡à¹€à¸—à¸žà¸¯ 10400',
            latitude: 13.7878,
            longitude: 100.5569,
            status: 'open',
            shopId: shop.id,
            categoryId: category.id,
        },
        {
            jobName: 'à¸œà¸¹à¹‰à¸Šà¹ˆà¸§à¸¢à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”',
            description: 'à¸£à¸±à¸šà¸ªà¸¡à¸±à¸„à¸£à¸œà¸¹à¹‰à¸Šà¹ˆà¸§à¸¢à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¸£à¹‰à¸²à¸™\n\nà¸«à¸™à¹‰à¸²à¸—à¸µà¹ˆ:\n- à¸—à¸³à¸„à¸§à¸²à¸¡à¸ªà¸°à¸­à¸²à¸”à¸žà¸·à¹‰à¸™à¸—à¸µà¹ˆà¸•à¹ˆà¸²à¸‡à¹†\n- à¸ˆà¸±à¸”à¹€à¸à¹‡à¸šà¸‚à¸­à¸‡\n- à¸Šà¹ˆà¸§à¸¢à¸‡à¸²à¸™à¸­à¸·à¹ˆà¸™à¹† à¸•à¸²à¸¡à¸—à¸µà¹ˆà¹„à¸”à¹‰à¸£à¸±à¸šà¸¡à¸­à¸šà¸«à¸¡à¸²à¸¢',
            wage: 320,
            workDate: new Date('2025-01-10'),
            requiredPeople: 1,
            availableDays: 'à¸—à¸¸à¸à¸§à¸±à¸™',
            contactPhone: '083-456-7890',
            address: '789 à¸–à¸™à¸™à¸£à¸±à¸Šà¸”à¸²à¸ à¸´à¹€à¸©à¸ à¹à¸‚à¸§à¸‡à¸”à¸´à¸™à¹à¸”à¸‡ à¸à¸£à¸¸à¸‡à¹€à¸—à¸žà¸¯ 10400',
            latitude: 13.7651,
            longitude: 100.5387,
            status: 'open',
            shopId: shop.id,
            categoryId: category.id,
        },
    ];

    for (const job of jobs) {
        const created = await prisma.shopJobPost.create({
            data: job,
        });
        console.log(`âœ… à¸ªà¸£à¹‰à¸²à¸‡à¸‡à¸²à¸™: ${created.jobName} (ID: ${created.id})`);
    }

    console.log('âœ¨ Seed à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ!');
}

main()
    .catch((e) => {
        console.error('âŒ Error:', e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
